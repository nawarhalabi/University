<!--<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript" src="JQuery.js"></script>
    <script type="text/javascript">
        //<![CDATA[
        hookEvents = function () {
            $('#dataSamples a').on('click', function (event) {
                $('#data').text(event.currentTarget.textContent);
            });
            $('#uriSamples a').on('click', function (event) {
                $('#uri').val(event.currentTarget.textContent);
            });
            $('#result a').on('click', function (event) {
                $('#uri').val(event.currentTarget.textContent.substring(1, event.currentTarget.textContent.length));
            });
        };

        $(hookEvents);
        sendRequest = function () {
            var method = $('#method').val();
            var uri = 'http://localhost:3000/' + $('#uri').val();
            var data = $('#data').val();
            if (method == 'GET')
                data = '';
            var accept = $('#headers').val();
            var dataType = $('#dataType').val();

            var settings = {
                url: uri,
                beforeSend: function (xhrObj) {
                    if (method == 'GET')
                        xhrObj.setRequestHeader("Accept", "application/" + accept);
                },
                type: method,
                processData: false,
                data: data,
                complete: function (body, status, xmlObject) {
                    if (body.responseText && body.responseText != '') {
                        try {
                            var jsonObject = JSON.parse(body.responseText);
                            if (jsonObject.uri)
                                jsonObject.uri = '<a href=\'javascript:\'>' + jsonObject.uri + '</a>';
                            if (jsonObject.metadata)
                                jsonObject.metadata = '<a href=\'javascript:\'>' + jsonObject.metadata + '</a>';
                            if (jsonObject.comments)
                                jsonObject.comments = '<a href=\'javascript:\'>' + jsonObject.comments + '</a>';
                            if (jsonObject.images)
                                jsonObject.images = '<a href=\'javascript:\'>' + jsonObject.images + '</a>';
                            if (jsonObject.forEach)
                                jsonObject.forEach(function (obj) {
                                    if (obj.uri)
                                        obj.uri = '<a href=\'javascript:\'>' + obj.uri + '</a>';
                                    if (obj.metadata)
                                        obj.metadata = '<a href=\'javascript:\'>' + obj.metadata + '</a>';
                                    if (obj.comments)
                                        obj.comments = '<a href=\'javascript:\'>' + obj.comments + '</a>';
									if (jsonObject.images)
										jsonObject.images = '<a href=\'javascript:\'>' + jsonObject.images + '</a>';
                                });
                            body.responseText = JSON.stringify(jsonObject);

                        }
                        catch (err) {
                            alert(body.responseText);
                        }
                    }

                    $('#result').html('<h2>HTTP Response Body:</h2><br/><p>Status Code: ' + body.status + ', Status Text: ' + body.statusText + '<br/>' + body.responseText + '</p>');

                    var test = body.getAllResponseHeaders().split("\r\n").join('<br/>');

                    $('#responseHeaders').html('<h2>HTTP Response Headers:</h2><br/>' + test);

                    hookEvents();
                }
            };
            if (method == 'POST' || method == 'PUT')
                settings.contentType = "application/" + dataType + ";charset=utf-8";
            $.ajax(settings);
        }

        function sendRequest() {

            var method = $('#method').val();
            var uri = 'http://localhost:3000/' + $('#uri').val();
            var data = $('#data').val
            var accept = $('#headers').val();

            $.ajax(uri, { type: method, headers: { accept: accept }, data: data, success: onReturn });
        }
        //]]>
    </script>
    <title></title>
    <style type="text/css">
        td {
            border: thin solid #800000;
        }
        .auto-style1 {
            height: 26px;
        }
        .auto-style2 {
            width: 178px;
        }
        .auto-style3 {
            height: 26px;
            width: 178px;
        }
        #data {
            width: 460px;
        }
        #method {
            width: 200px;
            margin-right: 0px;
        }
        #headers {
            width: 200px;
        }
        #TextArea1 {
            width: 200px;
            height: 42px;
        }
        #uri {
            width: 800px;
        }
        .auto-style4 {
            height: 26px;
            width: 571px;
        }
        #headers0 {
            width: 200px;
        }
        #dataType {
            width: 200px;
        }
        </style>
</head>
<body>
	<h1>ReSTful Web Services Testing Page</h1>
    <table style="border: medium solid #800000; width:100%;">
        <tr>
            <td class="auto-style2">JSON Request Data (http body)</td>
            <td colspan="2">
				Note: Only letters, numbers, hyphens and underscores are allowed for naming properties (json keys) and giving property values (json key values).
                <textarea id="data" name="S1" rows="2"></textarea><br />
                <p id="dataSamples">
                Examples for json data: (Click on one of the choises to copy in to the text entry)<br />
                1- For Collections: <a  href ="javascript:">{&quot;name&quot;:&quot;collection_name&quot;,&quot;author&quot;:&quot;author_name&quot;}</a><br />
                2- For Images: <a href ="javascript:">{&quot;name&quot;:&quot;image_name&quot;,&quot;author&quot;:&quot;author_name&quot;,&quot;uri&quot;:&quot;uri_on_the_web&quot;}</a><br />
                3- For Metadata (images or collections): <a href ="javascript:">{&quot;description&quot;:&quot;desc&quot;}</a><br />
                4- For Comments (images or collections): <a href ="javascript:">{&quot;text&quot;:&quot;text&quot;,&quot;author&quot;:&quot;author_name&quot;}</a><br />
        </p>
        </td>
        </tr>
        <tr>
            <td class="auto-style2">Request accept header</td>
            <td colspan="2">
                <select id="headers" name="headers">
                    <option value="json">content-type:application/json</option>
                    <option value="xml">content-type:application/xml</option>
                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This header will be sent only in GET requests</td>
        </tr>
        <tr>
            <td class="auto-style2">Request content-type header</td>
            <td colspan="2">
                <select id="dataType" name="dataType">
                    <option value="json">content-type:application/json</option>
                    <option value="xml">content-type:application/xml</option>
                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This head will be sent on POST and PUT requests</td>
        </tr>
        
        <tr>
            <td class="auto-style3">URI</td>
            <td class="auto-style4">
                <p>http://localhost:3000/<input id="uri" type="text" /></p>
                <p id="uriSamples">Prebuilt Templates: (click on one of the choises to fill the uri textbox)<br />
                    1- All Collections: <a href ="javascript:">collections</a><br />
                    2- One Collection: <a href ="javascript:">collections/collectionid</a><br />
                    3- Images in a Collection: <a href ="javascript:">collections/collectionid/images</a><br />
                    4- One Image: <a href ="javascript:">collections/collectionid/images/imageid</a><br />
                    5- Collection Metadata: <a href ="javascript:">collections/collectionid/metadata</a><br />
                    6- Collection Comments: <a href ="javascript:">collections/collectionid/collectionComments</a><br />
                    7- One Collection Comment: <a href ="javascript:">collections/collectionid/collectioncomments/collectioncommentid</a><br />
                    8- Images Metadata: <a href ="javascript:">collections/collectionid/images/imageid/metadata</a><br />
                    9- Image Comments: <a href ="javascript:">collections/collectionid/images/imageid/imagecomments</a><br />
                    10- One Image Comment: <a href ="javascript:">collections/collectionid/images/imageid/imagecomments/imagecommentid</a><br />
                </p>
            </td>
                
        </tr>
		<tr>
            <td class="auto-style3">http Request Method</td>
            <td class="auto-style1" colspan="2">
                <select id="method" name="method">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="DELETE">DELETE</option>
					<option value="HEAD">HEAD</option>
                </select></td>
        </tr>
        <tr>
            <td class="auto-style2" colspan="2">
                <input id="submit" type="button" value="Send Request" onclick="sendRequest(); return false;"/>&nbsp;<em><strong>HTTP Response will appear at the buttom of the page (please scroll down after clicking</strong></em></td>
            
        </tr>
    </table>
	<div>
		<p id="responseHeaders"> </p>
	</div>
	
    <div>
        <p id="result"></p>
    </div>

</body>
</html>
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript" src="JQuery.js"></script>
    <script type="text/javascript">
        //<![CDATA[
        hookEvents = function () {
            $('#dataSamples a').on('click', function (event) {
                $('#data').text(event.currentTarget.textContent);
            });
            $('#uriSamples a').on('click', function (event) {
                $('#uri').val(event.currentTarget.textContent);
            });
            $('#result a').on('click', function (event) {
                $('#uri').val(event.currentTarget.textContent.substring(1, event.currentTarget.textContent.length));
            });
        };

        $(hookEvents);
        sendRequest = function (method) {
            var uri = 'http://localhost:3000/' + $('#uri').val();
            var data = $('#data').val();
            if (method == 'GET')
                data = '';
            var accept = $('#headers').val();
            var dataType = $('#dataType').val();

            var settings = {
                url: uri,
                beforeSend: function (xhrObj) {
                    if (method == 'GET')
                        xhrObj.setRequestHeader("Accept", "application/" + accept);
                },
                type: method,
                processData: false,
                data: data,
                complete: function (body, status, xmlObject) {
                    if (body.responseText && body.responseText != '') {
                        try {
                            var jsonObject = JSON.parse(body.responseText);
                            if (jsonObject.uri)
                                jsonObject.uri = '<a href=\'javascript:\'>' + jsonObject.uri + '</a>';
                            if (jsonObject.metadata)
                                jsonObject.metadata = '<a href=\'javascript:\'>' + jsonObject.metadata + '</a>';
                            if (jsonObject.comments)
                                jsonObject.comments = '<a href=\'javascript:\'>' + jsonObject.comments + '</a>';
                            if (jsonObject.images)
                                jsonObject.images = '<a href=\'javascript:\'>' + jsonObject.images + '</a>';
                            if (jsonObject.forEach)
                                jsonObject.forEach(function (obj) {
                                    if (obj.uri)
                                        obj.uri = '<a href=\'javascript:\'>' + obj.uri + '</a>';
                                    if (obj.metadata)
                                        obj.metadata = '<a href=\'javascript:\'>' + obj.metadata + '</a>';
                                    if (obj.comments)
                                        obj.comments = '<a href=\'javascript:\'>' + obj.comments + '</a>';
                                    if (jsonObject.images)
                                        jsonObject.images = '<a href=\'javascript:\'>' + jsonObject.images + '</a>';
                                });
                            body.responseText = JSON.stringify(jsonObject);

                        }
                        catch (err) {
                            alert(body.responseText);
                        }
                    }

                    $('#result').html('<strong>HTTP Response Body:</strong><br/>Status Code: ' + body.status + ', Status Text: ' + body.statusText + '<br/>' + body.responseText);

                    var test = body.getAllResponseHeaders().split("\r\n").join('<br/>');

                    $('#responseHeaders').html('<strong>HTTP Response Headers:</strong></br>' + test);

                    hookEvents();
                }
            };
            if (method == 'POST' || method == 'PUT')
                settings.contentType = "application/" + dataType + ";charset=utf-8";
            $.ajax(settings);
        }

        function sendRequest() {

            var method = $('#method').val();
            var uri = 'http://localhost:3000/' + $('#uri').val();
            var data = $('#data').val
            var accept = $('#headers').val();

            $.ajax(uri, { type: method, headers: { accept: accept }, data: data, success: onReturn });
        }
        //]]>
    </script>
    <title></title>
    <style type="text/css">
        td {
            border: thin solid #800000;
        }
        .auto-style1 {
            height: 26px;
        }
        .auto-style2 {
            width: 178px;
        }
        .auto-style3 {
            height: 26px;
            width: 178px;
        }
        #data {
            width: 460px;
        }
        #method {
            width: 200px;
            margin-right: 0px;
        }
        #headers {
            width: 200px;
        }
        #TextArea1 {
            width: 200px;
            height: 42px;
        }
        #uri {
            width: 800px;
        }
        .auto-style4 {
            height: 26px;
            width: 571px;
        }
        #headers0 {
            width: 200px;
        }
        #dataType {
            width: 200px;
        }
        #uriSamples {
            width: 1167px;
        }
        .auto-style5 {
            width: 178px;
        }
        .auto-style6 {
        }
        </style>
</head>
<body>
	<h4>ReSTful Web Services Testing Page</h4>
    <table style="border: medium solid #800000; width:100%;">
        <tr>
            <td class="auto-style2">JSON Request Data (http body)</td>
            <td id="dataSamples" colspan="2">
				Note: Only letters, numbers, hyphens and underscores are allowed for naming properties (json keys) and giving property values (json key values).
                <textarea id="data" name="S1" rows="2"></textarea><br />
                
                Examples for json data: (Click on one of the choises to copy in to the text entry)<br />
                1- For Collections: <a  href ="javascript:">{&quot;name&quot;:&quot;collection_name&quot;,&quot;author&quot;:&quot;author_name&quot;}</a><br />
                2- For Images: <a href ="javascript:">{&quot;name&quot;:&quot;image_name&quot;,&quot;author&quot;:&quot;author_name&quot;,&quot;uri&quot;:&quot;uri_on_the_web&quot;}</a><br />
                3- For Metadata (images or collections): <a href ="javascript:">{&quot;description&quot;:&quot;desc&quot;}</a><br />
                4- For Comments (images or collections): <a href ="javascript:">{&quot;text&quot;:&quot;text&quot;,&quot;author&quot;:&quot;author_name&quot;}</a><br />
        
        </td>
        </tr>
        <tr>
            <td class="auto-style2">Request accept header</td>
            <td colspan="2">
                <select id="headers" name="headers">
                    <option value="json">content-type:application/json</option>
                    <option value="xml">content-type:application/xml</option>
                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This header will be sent only in GET requests</td>
        </tr>
        <tr>
            <td class="auto-style5">Request content-type header</td>
            <td colspan="2" class="auto-style6">
                <select id="dataType" name="dataType">
                    <option value="json">content-type:application/json</option>
                    <option value="xml">content-type:application/xml</option>
                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This head will be sent on POST and PUT requests</td>
        </tr>
        
        <tr>
            <td class="auto-style3">URI</td>
			<td>http://localhost:3000/<input id="uri" type="text" /></td>
		</tr>
		<tr>
            <td id="uriSamples" class="auto-style4" colspan="2">
                
					Prebuilt Templates: (click on one of the choises to fill the uri textbox)<br />
                    1- All Collections: <a href ="javascript:">collections</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2- One Collection: <a href ="javascript:">collections/collectionid</a><br />
                    3- Images in a Collection: <a href ="javascript:">collections/collectionid/images</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    4- One Image: <a href ="javascript:">collections/collectionid/images/imageid</a><br />
                    5- Collection Metadata: <a href ="javascript:">collections/collectionid/metadata</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    6- Collection Comments: <a href ="javascript:">collections/collectionid/collectionComments</a><br />
                    7- One Collection Comment: <a href ="javascript:">collections/collectionid/collectioncomments/collectioncommentid</a>&nbsp;&nbsp;8- Images Metadata: <a href ="javascript:">collections/collectionid/images/imageid/metadata</a><br />
                    9- Image Comments: <a href ="javascript:">collections/collectionid/images/imageid/imagecomments</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10- One Image Comment: <a href ="javascript:">collections/collectionid/images/imageid/imagecomments/imagecommentid</a>
                
            </td>
                
        </tr>
		<tr>
            <td class="auto-style3">http Request Method</td>
            <td class="auto-style1" colspan="2">
                <input id="submit" type="button" value="GET" onclick="sendRequest('GET'); return false;"/>
                <input id="submit0" type="button" value="POST" onclick="sendRequest('POST'); return false;"/>
                <input id="submit1" type="button" value="PUT" onclick="sendRequest('PUT'); return false;"/>
                <input id="submit2" type="button" value="DELETE" onclick="sendRequest('DELETE'); return false;"/>
                <input id="submit3" type="button" value="HEAD" onclick="sendRequest('HEAD'); return false;"/>  &nbsp;<em><strong>HTTP Response will appear at the buttom of the page (please scroll down after clicking</strong></em></td>
        </tr>
        
    </table>
	<div>
		<p id="responseHeaders"> </p>
	</div>
	
    <div>
        <p id="result"></p>
    </div>

</body>
</html>
